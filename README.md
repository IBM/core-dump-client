# core-dump-containers
A CLI for running a core dump session on kubernetes using the zipfile generated by [core-dump-handler](https://github.com/IBM/core-dump-handler) 

# HIGHLY EXPERIMENTAL!

While this tool shouldn't destroy any data it's a bash script with little error handling to explore the problem space and will change significantly. 

## usage 

Ensure [core-dump-handler](https://github.com/IBM/core-dump-handler) is installed

Copy the bash script `cdc.sh` to your local machine

Create a debug environment with 
```
./cdc.sh [name-of-zipfile] [runtime] [exename] [crashed-image-name] [namespace]
```
e.g. 
```
./cdc.sh 36c0d272-3295-4474-a16e-00885ba04fed-dump-1631477784-crashing-app-848dc79df4-srqkv-node-8-4.zip nodejs node quay.io/number9/example-crashing-nodejs-app
```

This will log you into a running container with lldb tools and core file info available to you. 

To start a debug session in the environment run`rundebug.sh` command.

```
./rundebug
```
To inspect the metadata that was saved with crash `ls` will list the folder container your core file and the metadata json.

## build status

### Default
[![Docker Repository on Quay](https://quay.io/repository/icdh/default/status "Docker Repository on Quay")](https://quay.io/repository/icdh/default)
### Node.Js
[![Docker Repository on Quay](https://quay.io/repository/icdh/nodejs/status "Docker Repository on Quay")](https://quay.io/repository/icdh/nodejs)
### Java